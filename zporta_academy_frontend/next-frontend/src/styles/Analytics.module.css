/* Modern, focused stylesheet for Activity Journey Dashboard */
/* Root CSS variables are defined globally in the app; removed local :root to satisfy CSS Modules purity rules. */

.page { max-width: 1100px; margin: 0 auto; padding: 32px 24px; font-family: var(--font); background-color:#0b1523; color:#e2e8f0; min-height:100vh; }
.header { display:flex; align-items:center; justify-content:space-between; margin-bottom: 16px; }
.title { margin:0; font-size:28px; font-weight:800; color:#ffb703; letter-spacing:-0.02em; }
.subtitle { margin:4px 0 0 0; color:#94a3b8; }
.helpBtn { background:#142233; border:1px solid #1e293b; border-radius:8px; padding:8px 10px; display:inline-flex; align-items:center; gap:6px; cursor:pointer; color:#e2e8f0; font-size:13px; }
.helpBtn:hover { background:#1e293b; }

.panel { background:#142233; color:#e2e8f0; padding: 20px; border-radius: var(--r-md); box-shadow: 0 4px 16px rgba(0,0,0,0.4); margin: 20px 0; border:1px solid #1e293b; }
.panelTitle { margin:0 0 10px 0; font-size:16px; font-weight:700; color:#ffb703; }

.cards { display:grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 12px; }
.card { background:#142233; color:#e2e8f0; border-radius: var(--r-sm); padding:16px; box-shadow: 0 4px 14px rgba(0,0,0,0.35); border:1px solid #1e293b; }
.cardHeader { display:flex; align-items:center; gap:8px; margin-bottom:8px; color:#ffb703; }
.bigValue { font-size:40px; font-weight:800; color:#ffb703; line-height:1; }
.metaRow { color:#94a3b8; margin-top:4px; font-size:13px; }

.kpi { display:grid; grid-template-columns: repeat(3, 1fr); gap: 8px; }
.kpiItem { background:#142233; border:1px solid #1e293b; border-radius: var(--r-sm); padding:10px; display:grid; grid-template-columns: 20px auto; align-items:center; gap:8px; color:#e2e8f0; }
.kpiItem span { font-size: 20px; font-weight: 800; }
.kpiItem label { color:#94a3b8; font-size:12px; }

.streaks { display:flex; flex-wrap:wrap; gap:8px; margin-top:12px; }
.streak { background:#1e293b; color:#e2e8f0; border-radius: var(--r-sm); padding:6px 10px; font-weight:600; display:inline-flex; align-items:center; gap:6px; }

.grid2 { display:grid; grid-template-columns: 1fr 1fr; gap: 16px; }
.empty { color:#94a3b8; text-align:center; padding:20px; background:#142233; border:1px dashed #1e293b; border-radius: var(--r-sm); }

.recentGrid { display:grid; grid-template-columns: 1fr 1fr; gap: 16px; }
.subhead { margin:0 0 6px 0; color:#ffb703; }
.list { list-style:none; padding:0; margin:0; display:flex; flex-direction:column; gap:6px; }
.list li { background:#142233; border:1px solid #1e293b; border-radius: var(--r-sm); padding:8px 10px; display:flex; flex-wrap:wrap; gap:8px; align-items:center; color:#e2e8f0; }
.list li span { font-weight:700; }
.list li em { color:#94a3b8; font-style: normal; }

.breakdownWrap { display:grid; grid-template-columns: 1fr 1fr; gap: 16px; }
.breakdownCol { background:#142233; border:1px solid #1e293b; border-radius: var(--r-sm); padding: 8px; }
.table { width:100%; border-collapse: collapse; background:#142233; border-radius: var(--r-sm); overflow:hidden; border:1px solid #1e293b; }
.table thead th { text-align:left; padding:8px 10px; background:#1e293b; border-bottom:1px solid #1e293b; color:#94a3b8; font-size:12px; text-transform: uppercase; letter-spacing:.04em; }
.table tbody td { padding:8px 10px; border-bottom:1px solid #1e293b; font-size:14px; color:#e2e8f0; }
.table tbody tr:last-child td { border-bottom:none; }

.modalBackdrop { position:fixed; inset:0; background:rgba(0,0,0,0.35); display:flex; align-items:center; justify-content:center; z-index: 1000; }
.modal { background:#142233; color:#e2e8f0; width:min(680px,92vw); border-radius: var(--r-md); box-shadow:0 8px 24px rgba(0,0,0,0.5); border:1px solid #1e293b; }
.modalHead { display:flex; align-items:center; justify-content:space-between; padding:10px 12px; border-bottom:1px solid #1e293b; }
.modalBody { padding: 12px; }
.close { background:transparent; border:none; font-size:22px; cursor:pointer; color:#94a3b8; }
.close:hover { color:#ffb703; }

.loadingWrap { background:#142233; border:1px solid #1e293b; border-radius: var(--r-sm); padding:12px; text-align:center; color:#94a3b8; }
.errorWrap { background:#2b0f13; border:1px solid #551b22; border-radius: var(--r-sm); padding:12px; color:#ff6b6b; text-align:center; }

@media (max-width: 900px) {
  .grid2 { grid-template-columns: 1fr; }
  .recentGrid { grid-template-columns: 1fr; }
  .breakdownWrap { grid-template-columns: 1fr; }
  .tabNav { gap: 10px; padding: 0 12px; }
  .tabBtn { padding: 10px 16px; font-size: 14px; }
}

/* Study time gauge & stats */
.studyFlex { display:flex; gap:20px; flex-wrap:wrap; align-items:center; }
.gaugeWrap { position:relative; flex:1 1 260px; min-width:240px; }
.gaugeCenter { position:absolute; inset:0; display:flex; flex-direction:column; align-items:center; justify-content:center; pointer-events:none; }
.gaugeValue { font-size:34px; font-weight:800; color:#ffb703; }
.gaugeSub { font-size:12px; color:#94a3b8; margin-top:4px; }
.studyStats { flex:1 1 200px; background:#142233; border:1px solid #1e293b; border-radius: var(--r-sm); padding:12px; font-size:14px; color:#e2e8f0; }
.studyStats p { margin:4px 0; }
.tip { font-size:12px; color:#94a3b8; }

/* Session status indicator */
.sessionStatus { margin-top:10px; display:inline-flex; align-items:center; gap:10px; background:#1e293b; padding:6px 10px; border-radius: var(--r-sm); font-size:13px; }
.sessionDot { width:8px; height:8px; background:#34d399; border-radius:50%; box-shadow:0 0 0 4px rgba(52,211,153,0.15); animation:pulse 3s infinite; }
@keyframes pulse { 0% { box-shadow:0 0 0 4px rgba(52,211,153,0.25); } 50% { box-shadow:0 0 0 1px rgba(52,211,153,0.4); } 100% { box-shadow:0 0 0 4px rgba(52,211,153,0.25); } }
.sessionText { color:#e2e8f0; }
.logoutBtn { background:#142233; border:1px solid #334155; color:#e2e8f0; font-size:12px; padding:4px 8px; border-radius: var(--r-sm); cursor:pointer; }
.logoutBtn:hover { background:#334155; }
.hbError { color:#ff6b6b; font-size:11px; }

/* Score card click hint */
.clickHint { margin-top:6px; font-size:11px; color:#94a3b8; font-style:italic; }

/* Large modal for score breakdown */
.modalLarge { background:#142233; color:#e2e8f0; width:min(920px,95vw); max-height:85vh; border-radius: var(--r-md); box-shadow:0 8px 24px rgba(0,0,0,0.5); border:1px solid #1e293b; display:flex; flex-direction:column; }
.modalLarge .modalBody { padding:12px; overflow-y:auto; flex:1; }

/* Search form in modal */
.searchForm { display:flex; gap:8px; margin-bottom:16px; flex-wrap:wrap; }
.searchInput { flex:1 1 240px; background:#1e293b; border:1px solid #334155; color:#e2e8f0; padding:8px 12px; border-radius: var(--r-sm); font-size:14px; }
.searchBtn, .clearBtn { background:#667eea; border:none; color:#fff; padding:8px 16px; border-radius: var(--r-sm); cursor:pointer; font-size:14px; font-weight:600; }
.searchBtn:hover { background:#5568d3; }
.clearBtn { background:#334155; }
.clearBtn:hover { background:#475569; }

/* Result count */
.resultCount { margin-bottom:12px; color:#94a3b8; font-size:13px; }

/* Points badge in table */
.pointsBadge { color:#34d399; font-weight:700; }

/* Learning Score Card */
.learningScoreCard {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  border-radius: var(--r-md);
  padding: 24px;
  cursor: pointer;
  transition: transform 0.2s ease;
  border: 2px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
}

.learningScoreCard:hover {
  transform: translateY(-4px);
  box-shadow: 0 12px 28px rgba(102, 126, 234, 0.4);
}

.learningScoreHeader {
  display: flex;
  align-items: center;
  gap: 12px;
  color: #fff;
  margin-bottom: 16px;
}

.learningScoreHeader h2 {
  margin: 0;
  font-size: 24px;
  font-weight: 800;
}

.learningScoreValue {
  font-size: 56px;
  font-weight: 900;
  color: #fff;
  line-height: 1;
  margin-bottom: 16px;
  text-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}

.learningScoreBreakdown {
  display: flex;
  gap: 16px;
  flex-wrap: wrap;
  color: rgba(255, 255, 255, 0.9);
  font-size: 14px;
  font-weight: 600;
}

.learningScoreBreakdown span {
  background: rgba(255, 255, 255, 0.15);
  padding: 6px 12px;
  border-radius: var(--r-sm);
  backdrop-filter: blur(10px);
}

.scoreOverview {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  border-radius: var(--r-md);
  padding: 20px;
  margin-bottom: 24px;
  color: #fff;
}

.scoreOverview h2 {
  margin: 0 0 8px 0;
  font-size: 32px;
  font-weight: 800;
}

.scoreOverview p {
  margin: 0;
  opacity: 0.9;
  font-size: 15px;
}

.contentCell {
  position: relative;
}

.contentLink {
  background: transparent;
  border: none;
  color: #667eea;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  gap: 6px;
  font-size: 14px;
  text-align: left;
  padding: 0;
  font-weight: 600;
  transition: color 0.2s ease;
}

.contentLink:hover {
  color: #5568d3;
  text-decoration: underline;
}

.contentLink span {
  max-width: 300px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Button styles */
.linkBtn {
  background: transparent;
  border: none;
  color: #667eea;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  gap: 6px;
  font-size: 14px;
  padding: 4px 8px;
  border-radius: var(--r-sm);
  transition: all 0.2s ease;
}

.linkBtn:hover:not(:disabled) {
  background: rgba(102, 126, 234, 0.1);
  color: #5568d3;
}

.linkBtn:disabled {
  color: #94a3b8;
  cursor: not-allowed;
}

.viewMoreBtn {
  background: #667eea;
  border: none;
  color: #fff;
  padding: 8px 16px;
  border-radius: var(--r-sm);
  cursor: pointer;
  font-size: 14px;
  font-weight: 600;
  margin-top: 12px;
  transition: all 0.2s ease;
}

.viewMoreBtn:hover {
  background: #5568d3;
  transform: translateY(-1px);
}

/* Content cell and link */
.contentCell { max-width:320px; }
.contentLink { 
  display:inline-flex; 
  align-items:center; 
  gap:6px; 
  background:#1e293b; 
  border:1px solid #334155; 
  color:#e2e8f0; 
  padding:4px 10px; 
  border-radius: var(--r-sm); 
  cursor:pointer; 
  font-size:13px; 
  max-width:100%; 
  text-align:left;
  transition: all 0.2s;
}
.contentLink:hover { 
  background:#334155; 
  border-color:#667eea;
  color:#667eea;
}
.contentLink span {
  overflow:hidden;
  text-overflow:ellipsis;
  white-space:nowrap;
  flex:1;
}
.noContent { color:#64748b; font-style:italic; }

/* Metadata cell */
.metaCell { font-size:12px; color:#94a3b8; max-width:280px; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }

/* Pagination controls */
.pagination { display:flex; align-items:center; justify-content:center; gap:12px; margin-top:16px; padding-top:12px; border-top:1px solid #1e293b; }
.pageBtn { background:#1e293b; border:1px solid #334155; color:#e2e8f0; padding:6px 14px; border-radius: var(--r-sm); cursor:pointer; font-size:13px; }
.pageBtn:hover:not(:disabled) { background:#334155; }
.pageBtn:disabled { opacity:0.5; cursor:not-allowed; }
.pageInfo { color:#94a3b8; font-size:13px; }

/* Link button for list items */
.linkBtn {
  background: transparent;
  border: none;
  color: #667eea;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  gap: 4px;
  font-size: 14px;
  font-weight: 700;
  padding: 0;
  text-decoration: underline;
  transition: color 0.2s;
}
.linkBtn:hover:not(:disabled) {
  color: #ffb703;
}
.linkBtn:disabled {
  color: #e2e8f0;
  cursor: default;
  text-decoration: none;
}

/* View more button */
.viewMoreBtn {
  background: #1e293b;
  border: 1px solid #334155;
  color: #667eea;
  padding: 8px 16px;
  border-radius: var(--r-sm);
  cursor: pointer;
  font-size: 13px;
  margin-top: 8px;
  display: block;
  width: 100%;
  text-align: center;
}
.viewMoreBtn:hover {
  background: #334155;
  color: #ffb703;
}

/* Pagination row */
.paginationRow {
  margin-top: 12px;
  display: flex;
  justify-content: center;
}

/* Analytics Modal Styles */
.analyticsModalHeader {
  background: linear-gradient(90deg, #667eea 0%, #f093fb 100%);
  padding: 24px 24px 12px 24px;
  border-top-left-radius: var(--r-md);
  border-top-right-radius: var(--r-md);
  box-shadow: 0 2px 12px rgba(102,126,234,0.12);
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.analyticsModalHeader h2 {
  font-size: 26px;
  font-weight: 800;
  color: #fff;
  margin: 0;
  display: flex;
  align-items: center;
  gap: 12px;
}
.analyticsModalHeader .modalClose {
  background: #fff;
  color: #667eea;
  border: none;
  border-radius: 50%;
  font-size: 22px;
  width: 36px;
  height: 36px;
  cursor: pointer;
  box-shadow: 0 2px 8px rgba(102,126,234,0.10);
  transition: background 0.2s, color 0.2s;
}
.analyticsModalHeader .modalClose:hover {
  background: #f093fb;
  color: #fff;
}

.tabNav {
  display: flex;
  gap: 12px;
  padding: 0 16px;
  margin-top: -16px;
  margin-bottom: 8px;
  position: relative;
  z-index: 2;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
}
.tabNav::-webkit-scrollbar { height: 8px; }
.tabNav::-webkit-scrollbar-thumb { background: #e0e7ff; border-radius: 8px; }
.tabBtn {
  background: #f3f4f6;
  border: none;
  padding: 12px 20px;
  border-radius: 14px 14px 0 0;
  font-size: 15px;
  font-weight: 700;
  color: #667eea;
  box-shadow: 0 2px 8px rgba(102,126,234,0.08);
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  transition: background 0.2s, color 0.2s, box-shadow 0.2s;
  position: relative;
  top: 2px;
  white-space: nowrap;
}
.tabBtn:hover {
  background: #e0e7ff;
  color: #f093fb;
}
.tabBtnActive {
  background: linear-gradient(90deg, #667eea 0%, #f093fb 100%);
  color: #fff !important;
  box-shadow: 0 4px 16px rgba(102,126,234,0.18);
  z-index: 3;
}

.analyticsContent {
  background: #f8fafc;
  border-bottom-left-radius: var(--r-md);
  border-bottom-right-radius: var(--r-md);
  padding: 24px 16px 16px 16px;
  min-height: 420px;
}
.analyticsHeader {
  display: flex;
  align-items: center;
  gap: 20px;
  margin-bottom: 28px;
  padding-bottom: 12px;
  border-bottom: 2px solid #e0e7ff;
}
.analyticsHeader h3 {
  margin: 0;
  font-size: 22px;
  color: #667eea;
}
.analyticsHeader p {
  margin: 4px 0 0 0;
  color: #64748b;
  font-size: 15px;
}

/* Make modal background lighter for analytics */
.modalLarge {
  background: #f3f4f6 !important;
  color: #222;
  border-radius: var(--r-md);
  box-shadow: 0 8px 32px rgba(102,126,234,0.18);
  border: none;
}

/* Make recommendations pop visually */
.recommendationCard {
  background: #fff;
  border-left: 6px solid #667eea;
  box-shadow: 0 2px 8px rgba(102,126,234,0.08);
  border-radius: var(--r-sm);
  margin-bottom: 16px;
  padding: 18px 18px 14px 18px;
  display: flex;
  gap: 14px;
  align-items: flex-start;
}
.recommendationCard.priority-high {
  border-left-color: #ef4444;
}
.recommendationCard.priority-medium {
  border-left-color: #f59e0b;
}
.recommendationCard.priority-low {
  border-left-color: #10b981;
}
.recIcon {
  font-size: 28px;
  margin-top: 2px;
}
.recContent p {
  color: #222;
  font-size: 15px;
}
.recAction {
  background: linear-gradient(90deg, #667eea 0%, #f093fb 100%);
  color: #fff;
  border: none;
  padding: 7px 16px;
  border-radius: 8px;
  cursor: pointer;
  font-size: 14px;
  font-weight: 700;
  margin-top: 8px;
  box-shadow: 0 2px 8px rgba(102,126,234,0.10);
  transition: background 0.2s;
}
.recAction:hover {
  background: #667eea;
}

/* Analytics cards and lists */
.analyticsGrid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  gap: 20px;
  margin-bottom: 32px;
}
.analyticsCard {
  background: #fff;
  border: 1px solid #e0e7ff;
  border-radius: var(--r-md);
  padding: 20px 18px 16px 18px;
  box-shadow: 0 2px 8px rgba(102,126,234,0.08);
}
.cardTitle {
  margin: 0 0 4px 0;
  font-size: 16px;
  font-weight: 700;
  color: #667eea;
}
.cardDesc {
  margin: 0 0 12px 0;
  font-size: 14px;
  color: #64748b;
}
.analyticsList {
  list-style: none;
  padding: 0;
  margin: 0;
}
.analyticsListItem {
  margin-bottom: 10px;
}
.analyticsLink {
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
  padding: 12px 14px;
  background: #f3f4f6;
  border: 1px solid #e0e7ff;
  border-radius: var(--r-sm);
  cursor: pointer;
  color: #222;
  text-align: left;
  transition: background 0.2s, border 0.2s;
}
.analyticsLink:hover {
  background: #e0e7ff;
  border-color: #667eea;
}
.analyticsName {
  font-weight: 700;
  font-size: 15px;
}
.analyticsValue {
  color: #f093fb;
  font-weight: 700;
  font-size: 15px;
}
.analyticsDate {
  color: #64748b;
  font-size: 13px;
}
.emptyState {
  color: #64748b;
  font-style: italic;
  font-size: 14px;
  text-align: center;
  padding: 18px;
}

/* Filters and sorting */
.filterBar {
  display: flex;
  gap: 1rem;
  align-items: center;
  flex-wrap: wrap;
  margin: 0.5rem 0 0.75rem;
}
.filterGroup { display:flex; align-items:center; gap:0.5rem; }
.filterLabel { font-size: 0.9rem; color: var(--text-secondary); }
.filterSelect {
  padding: 0.4rem 0.6rem;
  border: 1px solid rgba(0,0,0,0.1);
  border-radius: 6px;
  background: white;
}
.segmented { display:flex; gap:6px; background: rgba(0,0,0,0.05); padding:4px; border-radius: 8px; }
.segmentBtn {
  border: none;
  background: transparent;
  padding: 0.35rem 0.6rem;
  border-radius: 6px;
  cursor: pointer;
  font-weight: 600;
  color: var(--text-secondary);
}
.segmentActive { background:white; color: var(--text-primary); box-shadow: 0 1px 2px rgba(0,0,0,0.06); }
.bigStat {
  font-size: 36px;
  font-weight: 800;
  color: #667eea;
  text-align: center;
  margin: 20px 0;
}

@media (max-width: 480px) {
  .tabNav { gap: 8px; padding: 0 10px; }
  .tabBtn { padding: 8px 14px; font-size: 13px; }
}
